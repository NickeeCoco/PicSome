{"version":3,"sources":["Context.js","components/Header.js","hooks/useHover.js","components/CartItem.js","pages/Cart.js","components/Image.js","pages/Photos.js","utils/index.js","App.js","index.js"],"names":["Context","React","createContext","ContextProvider","props","useState","allPhotos","setAllPhotos","JSON","parse","localStorage","getItem","cartItems","setCartItems","useEffect","fetch","then","response","json","data","setItem","stringify","Provider","value","toggleFavorite","id","newPhotos","map","photo","isFavorite","addToCart","image","items","removeFromCart","filter","item","emptyCart","children","Header","cartClassName","useContext","length","className","to","useHover","e","isHovered","setIsHovered","hoveredElement","useRef","mouseEnter","mouseLeave","current","addEventListener","removeEventListener","CartItem","binIconClassName","onClick","ref","src","url","width","alt","Cart","isPlacingOrder","setIsPlacingOrder","cartItemElements","key","totalPrice","buttonText","toLocaleString","style","currency","setTimeout","alert","disabled","Image","img","some","Photos","Images","index","i","App","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.47ffefb3.chunk.js","sourcesContent":["import React, {useState, useEffect} from \"react\"\r\n\r\nconst Context = React.createContext()\r\n\r\nfunction ContextProvider(props) {\r\n  const url = \"https://raw.githubusercontent.com/bobziroll/scrimba-react-bootcamp-images/master/images.json\"\r\n\r\n  const [allPhotos, setAllPhotos] = useState([])\r\n  const [cartItems, setCartItems] = useState(JSON.parse(localStorage.getItem(\"cartItems\")) || [])\r\n\r\n  function toggleFavorite(id) {\r\n    const newPhotos = allPhotos.map(photo => {\r\n      if (photo.id === id) {\r\n        return {...photo, isFavorite: !photo.isFavorite}\r\n      }\r\n      return photo\r\n    })\r\n    setAllPhotos(newPhotos)\r\n  }\r\n\r\n  function addToCart(image) {\r\n    setCartItems(items => [...items, image])\r\n  }\r\n\r\n  function removeFromCart(id) {\r\n    setCartItems(items => items.filter(item => item.id !== id))\r\n  }\r\n\r\n  function emptyCart() {\r\n    setCartItems([])\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetch(url)\r\n      .then(response => response.json())\r\n      .then(data => setAllPhotos(data))\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"cartItems\", JSON.stringify(cartItems))\r\n  }, [cartItems])\r\n\r\n  return(\r\n    <Context.Provider value={{allPhotos, cartItems, toggleFavorite, addToCart, removeFromCart, emptyCart}}>\r\n      {props.children}\r\n    </Context.Provider>\r\n  )\r\n}\r\n\r\nexport {ContextProvider, Context}","import React, {useContext} from \"react\"\r\nimport {Link} from \"react-router-dom\"\r\n\r\nimport {Context} from \"../Context\"\r\n\r\nfunction Header() {\r\n  const {cartItems} = useContext(Context)\r\n  const cartClassName = cartItems.length > 0 ? \"fill\" : \"line\"\r\n\r\n  return (\r\n      <header>\r\n        <div className=\"container container--header\">\r\n          <h2>\r\n            <Link to=\"/\">Pic Some</Link>\r\n          </h2>\r\n          <Link to=\"/cart\">\r\n              <i className={`ri-shopping-cart-${cartClassName} ri-fw ri-2x`}></i>\r\n          </Link>\r\n        </div>\r\n      </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import {useState, useEffect, useRef} from \"react\"\r\n\r\nfunction useHover(e) {\r\n  const [isHovered, setIsHovered] = useState(false)\r\n  const hoveredElement = useRef(null)\r\n\r\n  function mouseEnter() {\r\n    setIsHovered(true)\r\n  }\r\n\r\n  function mouseLeave() {\r\n    setIsHovered(false)\r\n  }\r\n\r\n  useEffect(() => {\r\n    hoveredElement.current.addEventListener(\"mouseenter\", mouseEnter)\r\n    hoveredElement.current.addEventListener(\"mouseleave\", mouseLeave)\r\n\r\n    return () => {\r\n      hoveredElement.current.removeEventListener(\"mouseenter\", mouseEnter)\r\n      hoveredElement.current.removeEventListener(\"mouseleave\", mouseLeave)\r\n    }\r\n  }, [])\r\n\r\n  return [isHovered, hoveredElement]\r\n}\r\n\r\nexport default useHover","import React, {useContext} from \"react\"\r\nimport useHover from \"../hooks/useHover\"\r\n\r\nimport {Context} from \"../Context\"\r\nimport PropTypes from \"prop-types\"\r\n\r\nfunction CartItem({item}) {\r\n  const [isHovered, hoveredElement] = useHover()\r\n  const {removeFromCart} = useContext(Context)\r\n\r\n  const binIconClassName = isHovered ? \"fill\" : \"line\"\r\n  \r\n  return (\r\n    <div className=\"cart-item\">\r\n      <i \r\n        className={`ri-delete-bin-${binIconClassName}`} \r\n        onClick={() => removeFromCart(item.id)} \r\n        ref={hoveredElement}\r\n      ></i>\r\n      <img src={item.url} width=\"130px\" alt={item.id} />\r\n      <p>$5.99</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nCartItem.propTypes = {\r\n  item: PropTypes.shape({\r\n    url: PropTypes.string.isRequired\r\n  })\r\n}\r\n\r\nexport default CartItem","import React, {useState, useContext} from \"react\"\r\nimport CartItem from \"../components/CartItem\"\r\n\r\nimport {Context} from \"../Context\"\r\n\r\nfunction Cart() {\r\n  const [isPlacingOrder, setIsPlacingOrder] = useState(false)\r\n  const {cartItems, emptyCart} = useContext(Context)\r\n\r\n  const cartItemElements = cartItems.map(item => <CartItem key={item.id} item={item} />)\r\n\r\n  const totalPrice = cartItems.length * 5.99\r\n  const buttonText = isPlacingOrder ? \"Ordering...\" : \"Place Order\"\r\n\r\n  function placeOrder() {\r\n    setIsPlacingOrder(true)\r\n    setTimeout(()=> {\r\n      alert(\"Order placed!\")\r\n      emptyCart()\r\n      setIsPlacingOrder(false)\r\n    }\r\n    , 3000)\r\n\r\n  }\r\n\r\n  return (\r\n      <main className=\"cart-page container\">\r\n          <h1>Check out</h1>\r\n          {cartItemElements}\r\n          <p className=\"total-cost\">Total: {totalPrice.toLocaleString(\"ca-US\", {style: \"currency\", currency: \"CAD\"})}</p>\r\n          {\r\n            cartItems.length > 0 ? \r\n            <div className=\"order-button\">\r\n              <button onClick={() => placeOrder()} disabled={isPlacingOrder}>{buttonText}</button>\r\n            </div> :\r\n            <p>Your cart is empty.</p>\r\n          }\r\n      </main>\r\n  )\r\n}\r\n\r\nexport default Cart","import React, {useContext} from \"react\"\r\nimport useHover from \"../hooks/useHover\"\r\n\r\nimport PropTypes from \"prop-types\"\r\nimport {Context} from \"../Context\"\r\n\r\nfunction Image({className, img}) {\r\n  const [isHovered, hoveredElement] = useHover()\r\n\r\n  const {cartItems, toggleFavorite, addToCart, removeFromCart} = useContext(Context)\r\n\r\n  function heartIcon() {\r\n    if(img.isFavorite) {\r\n      return <i className=\"ri-heart-fill favorite\"  onClick={() => toggleFavorite(img.id)}></i>\r\n    } else if (isHovered) {\r\n      return <i className=\"ri-heart-line favorite\" onClick={() => toggleFavorite(img.id)}></i>\r\n    }\r\n  }\r\n  \r\n  function plusIcon() {\r\n    const inCart = cartItems.some(item => item.id === img.id)\r\n    if(inCart) {\r\n      return <i className=\"ri-shopping-cart-fill cart\" onClick={() => removeFromCart(img.id)}></i>\r\n    } else if (isHovered) {\r\n      return <i className=\"ri-add-circle-line cart\" onClick={() => addToCart(img)}></i>\r\n    }\r\n  }\r\n\r\n  return(\r\n    <div \r\n      className={`${className} image-container`}\r\n      ref={hoveredElement}\r\n    >\r\n      <img className=\"image-grid\" src={img.url} alt=\"\" />\r\n      {heartIcon()}\r\n      {plusIcon()}\r\n    </div>\r\n  )\r\n}\r\n\r\nImage.propTypes = {\r\n  className: PropTypes.string,\r\n  img: PropTypes.shape({\r\n    id: PropTypes.string.isRequired,\r\n    url: PropTypes.string.isRequired,\r\n    isFavorite: PropTypes.bool\r\n  })\r\n}\r\n\r\nexport default Image","import React, {useContext} from \"react\"\r\nimport {getClass} from \"../utils\"\r\nimport Image from \"../components/Image\"\r\n\r\nimport {Context} from \"../Context\"\r\n\r\nfunction Photos() {\r\n  const {allPhotos} = useContext(Context)\r\n\r\n  const Images = allPhotos.map((image, index) => <Image key={image.id} img={image} className={getClass(index)} />)\r\n\r\n  return (\r\n      <main className=\"photos container\">\r\n        {Images}\r\n      </main>\r\n  )\r\n}\r\n\r\nexport default Photos","export function getClass(i) {\r\n  if (i % 5 === 0) {\r\n      return 'big';\r\n  }\r\n  else if (i % 6 === 0) {\r\n      return 'wide'\r\n  }\r\n}","import React from \"react\"\nimport \"./App.css\"\n\nimport {Switch, Route} from \"react-router-dom\"\n\nimport Header from \"./components/Header\"\nimport Cart from \"./pages/Cart\"\nimport Photos from \"./pages/Photos\"\n\n\nfunction App() {    \n    return (\n        <div>\n            <Header />\n\n            <Switch>\n            <Route exact path=\"/\">\n              <Photos />\n            </Route>\n            <Route path=\"/cart\">\n              <Cart />\n            </Route>\n          </Switch>\n        </div>\n    )\n}\n\nexport default App","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport {BrowserRouter as Router} from \"react-router-dom\"\nimport {ContextProvider} from \"./Context\"\n\nimport App from \"./App\"\n\nReactDOM.render(\n  <ContextProvider>\n    <Router>\n      <App />\n    </Router>\n  </ContextProvider>,\n  document.getElementById(\"root\"))\n"],"sourceRoot":""}